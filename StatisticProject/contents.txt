*. 통계 분석 방벅
========================
1. 평균 차이 검증 
    단순히 수치만 놓고 비교 하면 안됨 e.g. A: M= 72, B: M=74 B가 단순히 높은 것으로 볼 것인가?, 이정도는 차이가 없다고 볼 것인가. 
    수치로 하기 때문에 조금더 명확함
  - 집단간의 평균 차이 검정
  - 척도 : 명목변수 -> 연속변수의 평균 차이를 보는 것 
  (1). T-test(student t-test): 비교 대상이 2개 까지인 경우 
        4). 전제조건이 성립해함.
            +. 결과값이 연속변수
             아닐경우: Mann-Whitney u test, Wilcoxen rank sum test,
                       Mann-Whitney Wilcoxen test, MWW
            
            +. 정규분포 여부 - 평균을 믿을 수 있는지 확인 , 가장 중요함. 데이터가 많아지면 많아질수록 점점점 정규분포가 된다. -> 중심극한정리
              아닐 경우:MWW 
            
            +. 등분산 여부 
              아닐 경우: Welch's t-test
            +. 모수적인(정규분포) 통계방식과 비모수적인(비정규분포) 통계방식- 평균을 신뢰하는지 여부
            e.g. A 20  21  21  22  -->21      A 20 21 21 22 124
                 B 40  41  42  43  -->41.5    B 40 41 42 43 42
                 비모수 통계방식
                 A  A  A  A  B   B   B   B   B    A --> 순위를 가지고 (Wilcoxen rank sum test)
                 20 21 21 22 40  41  42  43  42  124
        
    1). 하나의 집단으로 검정: one sample t-test(단일 표본 t 검증 ) - 모집단의 평균을 알고 있거나 모집단을 알고 있을 경우 모집단과 비교, 흔한 경우는         아님.
    
    2). 두개의 집단으로 검정: independent two sample t-test(독립 표본 t 검증) 서로다른 샘플
    
    3). 시간의 차이(하나의 집단,대응,종속)에 따라 비교 : paired sample t-test --> 정규분포일때 
        비모수(정규분포가 아니거나, 연속변수가 아닐때) --> MWW(Wilcoxen rank sum test)
    
    
  
  (2) anova: 비교 대상이 3개이상인경, 분산을 가지고 검증, t테스트를 계속쓰면 오류가 늘어나기 때문에 사용하지 x
    1) 집단이 3개 이상일 때: one way anova, 일원 배치 분산분석,-t-test의 확장 
    2) 시간에 따른 차이검증: (one way)repeated masured anova/
        - pired t-test의 확장
        - 비모수일 경우 : Friedman test(흔한 경우는 아님)
    3) 요인에 따른 차이검증: TWO way anova., 원인이 두개 이상상
    4) 시간+ 요인에 따른 차이점정 : two way repeated mesured anova
    * 단순히 차이가 있냐 없냐로 끝나면 안됨. 누구누구 끼리에서 차이가 나는지 알아야함. 
    
    *. 사후검증: Tuket, Dungan,Bonfeeroni, Fisher's, lsd)
    *. 조건
      - 결과값이 연속 변수 
        아닐경우에는>: kruskal-wallis H test
      
      - 정규분포 여부
        아닐경우: 비모수적 통계,kruskal-wallis H test 
        
      - 등분산 여부(정규분포는 맞지만 등분산이 아닐때) 
        아닐경우: welch's anova
        
    
  
 
    
      
  (2). ANOVA : 비교대상이 3개 이상인 경우 
  
2. 관계검증: 어떤 관계가 있는지, 평균 차이 검증 보다 다소 어렵고, 주관적임 
  - 변수와 변수의 관계를 검정 
  - 척도: 연속변수 -> 연속변수(원칙), 예외적으로 질적변수 -> 질적분석
  
  (1). 상관분석
  
  상관분석(Correlation test)
    1)연속변수 -> 연속변수
    2) 1:1 서로 동등한 입장에서 관계를 분석
    3) 상관계수(r 계수): -1 ~ 1  
    4) 측정방식
      - 모수적인 방식: 피어슨의 상관걔수
      - 비모수적인 방식: 스피어만의 상관계수, 켄달의 tau
    5) 수학적인 관계를 반단 
    6) 회귀분석 전 단계에서 사용 
    7) 선형 함수를 지원 --> 직선을 의미, 곡선에서는 확인할 수 없음.
  
  (2) 회귀분석
    1) 연속변수 --> 연속변수
    2) 인과 관계(여러개의 독립변수(원인)와 한개의 종속변수) 
    3) 독립변수의 개수에 따라 
        -단일 회귀분석: 독립변수가 1개, 종속변수 1개(실제로 사용하진 않음)
        -다중 회귀분석: 독립변수가 여러개, 종속변수가 1개
    4) 데이터의 분포에 따라
        - 정규분포 : 선형회귀분석(lm())
        - 이항분포(두가지로만 나오는): 로지스틱회귀분석(glm())
        똑같은 데이터로도 선형회귀 로지스틱 둘다 사용 가능
    5) 조건
      - 연속변수(선형)
      - 정규분포(잔차들의 정규분포)
      - 등분산
      - 독립성 --> 독립 변수들 간의 관계가 없어야 함(다중공선성이 작아야 함).
      
  (3). 교차 분석(카이제곱 분석)
    1) 질적(명목) 변수 -> 질적( 명목) 변수
    2) 비율 검정 
      -              숙취가 있는 경우       숙취가 없는 경우
      - 술을 마신사람       30                      70
      - 술을 마지시 않은 사람 4                     95             -> 셀당25%   5 보다 작은 데이터를 가신 셀의 %가 20%를 넘으면 데이터 부족 
      
      -             숙취가 있는 경우       숙취가 없는 경우      숙취가 약간 있는 경우
      - 술을 마신사람       30                      70                  100
      - 술을 마지시 않은 사람 4                     95                  1000   --> 17%    4개여도 데이터수는 부족한게 아님
    3) 조건
      - Chi Squate Test :데이터 수(기대 도수)가 충분할 경우
      - Fisher's exact test : 데이터수가 부족할때
      - Cochran-amitage trend test: 명목변수가 서열변수(trend)
                    숙취가 있는경우       숙취가 없는 경우
        블랙
        골드
        블루
       (등급)
       어떤 순위가 있는 경우
       
    4) 기준에 따라 차이검정일수도 있고 관계검정일수도 있다. 
      - 일원 카이제곱 (차이 검정--> 변수가 하나일 경우 
      - 이원 카이제곱 (관계 검정)
      
      
      
      
      
      
      
      
      
    
=========================================================================
1.서울시 대기오염 분석 - 이산화질소 농도 변화률 조사- 어느지역이 가장 심했는지, 다른 변수와는 어떤 관계가 있는지
단순히 전처리를 통해서 시각화 위주로
- http://data.seoul.go.kr

2. 서울시 자전거 분석(따릉이) SeoulBikeData.csv
  (1) 시간대별로 평균 몇대가 대여되었을까?
  
  (2) 위의 결과를 시각화
  
  (3) 2016년 1월 1일은 금요일이었다. Date 변수에서 요일을 뽑아서 파생변수만들기 - 전처리(요일을           만들기)
  
  (4) 요일별로 평균 몇 대가 대여되었을까?
  
  (5) 위의 결과를 시각화
  
  (6) 요일별로 시간대별 그래프로 시각화
  
  (7) 선형분석 
    - 각 변수들이 자전거 대여 횟수와 관련이 있는가? 
    - 온도에 따라 몇대의 자전거가 대여 될까? (e.g. 온도가 23도일 때 자전거 대여 횟수는 998대이다.)
    
  
  

    